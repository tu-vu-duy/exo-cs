<%  
	import org.exoplatform.forum.webui.UIPostRules ;
	import org.exoplatform.forum.webui.UIForumLinks ;
	import org.exoplatform.forum.service.Post ;
	import org.exoplatform.forum.service.Topic ;
%>
<%  
	Topic topic = uicomponent.getTopic() ;
%>

<div class="UITopicDetail">

	<div class="ButtomAndPageListContainer">
		<div class="UIActionForum" style="float: left;">
		  <div class="ActionButton">
		  	<div class="NormalStyle">
		  		<div class="ButtonLeft">
		  			<div class="ButtonRight">
		  				<div class="ButtonMiddle">
		  					<a href="<%//=uicomponent.event("AddPost")%>">
		  						<div class="IconButton PostReplyIcon"><span class="LabelIcon"></span>New Post</div>
		  					</a>
		  				</div>
		  			</div>
		  		</div>
		  	</div>
		  </div>
		</div>
		<div class="UIPageIterator1" style="margin-left: 120px; width: auto;border: solid 1px red; line-height: 20px;">
			UIPageIterator
		</div>
		<div style="clear: left;"><span></span></div>
	</div>
	
	
<!-- Start PostsInThreadContainer -->	
	<div class="PostsInThreadContainer">
	  <div class="ForumToolbar">
		  <div class="LeftBar">
		  	<div class="RightBar">
		  		<div class="CenterBar">
		  			<div class="ToolbarActionsContainer">
							<a class="IconToolbar TagIcon">Tag</a>
		  				<div class="SeparatorLine"><span></span></div>
							<a class="IconToolbar VoteIcon">Vote Thread</a>
		  				<div class="SeparatorLine"><span></span></div>
							<a class="IconToolbar SearchIcon">Search Thread</a>
		  				<div class="SeparatorLine"><span></span></div>
		  				<div class="ExpandButton"><span></span></div>
							<a class="IconToolbar ToolIcon">Thread Tools</a>
		  				<div style="clear: right;"><span></span></div>
						</div>
		  		</div>
		  	</div>
		  </div>
	  </div>
	  
<!-- Start ContentContainer -->

		<%  
			List posts = uicomponent.getPostPageList(1) ;
			for(post in posts) {
				String owner = post.getOwner() ;
				String classIconPost = post.getIcon() ;
				if(classIconPost.length() <= 0) 
					classIconPost = "NormalTopicIcon" ;
				String subject = post.getSubject() ;
				String createdDate = post.getCreatedDate().toString() ;
				String messager = post.getMessage() ;
				String editBy = post.getModifiedBy() ;
				String editDate = post.getModifiedDate().toString() ;
		%>

	  <div class="ContentContainer" style="margin: 2px 0px 0px 0px;">
		  <table class="TablePost" cellspacing="0" borderspacing="0">
		  	<tbody>
		  		<tr>
<!-- Start MemberContainer -->	  
						<td class="MemberContainer">
				  		<div class="MemberContent">
					  		<div class="MemberName">
					  			<div class="State AvailableIcon" title="Phuongï¿½s Available"><span></span></div>
					  			<div class="Name">$owner</div>
					  			<div class="Action"><span></span></div>
					  			<div style="clear: left;"><span></span></div>
					  		</div>
					  		<div class="Rank">Junior Member</div>
					  		<img src="/forum/skin/DefaultSkin/webui/background/Avatar1.gif" class="Img" />
					  		<div class="InfoMember">
					  			<div>Join Date: Feb 2006</div>
									<div>Posts: 150</div>
									<div>Location: Hanoi, Vietnam</div>
					  		</div>
					  	</div>
					  </td>
	<!-- End MemberContainer -->
	
	
	<!-- Start PostViewContainer -->
						<td class="PostViewContainer">
					  	
				  		<div class="PostViewTitle">
				  			<div class="PostViewIcon $classIconPost">$subject</div>
				  			<div class="PostTime">Posted: $createdDate</div>
				  		</div>
				  		
				  		<div class="PostContent">
				  			<br><div>$messager</div><br>
				  		</div>
				  		
				  		<div class="AttachmentContainer">
				  			<div class="AttachmentTitle">Attachments:</div>
				  			<div class="AttachmentContent">
				  				<div class="AttachmentBox">
										<div class="AttachmentIcon WordIcon"><span></span></div>
										<a href="#" class="AttachmentLabel">About the trip.doc</a>
										<div style="clear: left;"><span></span></div>
										<div class="Size">Size: 49K</div>
				  				</div>
				  				<div class="AttachmentBox">
										<div class="AttachmentIcon PPTIcon"><span></span></div>
										<a href="#" class="AttachmentLabel" >Images presentation.ppt</a>
										<div style="clear: left;"><span></span></div>
										<div class="Size">Size: 49K</div>
				  				</div>
				  				<div style="clear: left;"><span></span></div>
				  			</div>
				  		</div>
				  		
				  		<div class="FootPost">
				  			<div class="PostInfo">
					  			<div>Last edited by <a href="#">$editBy</a> on $editDate</div>
									<div>Reason: Add new</div>
								</div>
								<div class="ButtonContainer">
									<div class="UIActionForum">
									  <div class="ActionButton">
									  	<div class="NormalStyle">
									  		<div class="ButtonLeft">
									  			<div class="ButtonRight">
									  				<div class="ButtonMiddle">
									  					<div class="IconButton PostReplyIcon" title="Edit Message"><span class="LabelIcon"></span>Edit</div>
									  				</div>
									  			</div>
									  		</div>
									  	</div>
									  </div>
									  <div class="ActionButton">
									  	<div class="NormalStyle">
									  		<div class="ButtonLeft">
									  			<div class="ButtonRight">
									  				<div class="ButtonMiddle">
									  					<div class="IconButton PostReplyIcon" title="Delete this Post"><span class="LabelIcon"></span>Delete</div>
									  				</div>
									  			</div>
									  		</div>
									  	</div>
									  </div>
									  <div class="ActionButton">
									  	<div class="NormalStyle">
									  		<div class="ButtonLeft">
									  			<div class="ButtonRight">
									  				<div class="ButtonMiddle">
									  					<div class="IconButton PostReplyIcon" title="Reply With Quote"><span class="LabelIcon"></span>Quote</div>
									  				</div>
									  			</div>
									  		</div>
									  	</div>
									  </div>
									</div>
								</div>
								<div style="clear: both"><span></span></div>
				  		</div>
					  		
					  </td>
	<!-- End PostViewContainer -->
					</tr>
				</tbody>
      </table>
	  </div>
	  <% } %>
<!-- End ContentContainer -->

	</div>	
<!-- End PostsInThreadContainer -->
	<div class="ButtomAndPageListContainer">
		<div class="UIActionForum" style="float: left;">
		  <div class="ActionButton">
		  	<div class="NormalStyle">
		  		<div class="ButtonLeft">
		  			<div class="ButtonRight">
		  				<div class="ButtonMiddle">
		  					<div class="IconButton PostReplyIcon"><span class="LabelIcon"></span>New Thread</div>
		  				</div>
		  			</div>
		  		</div>
		  	</div>
		  </div>
		</div>
		<div class="UIPageIterator1" style="margin-left: 120px; width: auto;border: solid 1px red; line-height: 20px;">
			UIPageIterator
		</div>
		<div style="clear: left;"><span></span></div>
	</div>
<% uicomponent.renderChild(UIPostRules.class) %>
<% uicomponent.renderChild(UIForumLinks.class) %>
</div>
