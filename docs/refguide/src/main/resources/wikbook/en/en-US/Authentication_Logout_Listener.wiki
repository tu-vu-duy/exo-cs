
h1. Authentication Logout Listener

In eXo Mail, when a user check messages for one account, the remote mailbox fetch is performed as a background job. Before CS 1.2, the job was continuing until all messages had been retrieved or when the user stopped the check through the UI. Hence, even when a user was not logged in, the background job was continuing. This can be resource intensive for the server if many users have large mailboxes.

Since CS 1.2, we added the capability to  halt the background job when the user session terminates (logout or time out). It makes CS more friendly with server resources. If you want to activate this feature, you need to add a bunch of xml congifuration in cs-plugins-configuration.xml :

{code:xml}
  <external-component-plugins>
    	<target-component>org.exoplatform.services.listener.ListenerService</target-component>
   		<component-plugin>
            <name>exo.core.security.ConversationRegistry.unregister</name>
     		<set-method>addListener</set-method>
            <type>org.exoplatform.mail.service.AuthenticationLogoutListener</type>
      		<description>description</description>
    	</component-plugin>
  </external-component-plugins>
{code}

